<div class="inputWrapper2" *ngIf="!showResults">
    <form nz-form [formGroup]="validateForm" class="login-form" >
        <nz-form-control>
            <nz-input-group>
                <input style="width: 300px;" formControlName="city" nz-input placeholder="Location of pickup" [(ngModel)]="city" />
            </nz-input-group>
        </nz-form-control>


    <br/>
    <br/>
    <nz-form-control>
        <nz-input-group>
            <nz-form-item>
                <nz-range-picker
                    [nzShowTime]="{ nzFormat: 'hh:mm' }"
                    nzFormat="hh:mm dd-MM-yyyy"
                    [nzPlaceHolder]="['Start Time', 'End Time']"
                    ngModel
                    (ngModelChange)="onChange($event)"
                    style="width: 300px;"
                    formControlName="dates"
                ></nz-range-picker>
            </nz-form-item>
        </nz-input-group>
    </nz-form-control>
    </form>

    <button nz-button (click)="submitSearch()" nzType="primary" [disabled]="!validateForm.valid">Search</button>
  </div>

  <div *ngIf="showResults">
    <div><i nz-icon nzType="arrow-left" nzTheme="outline" (click)="backToSearch()"></i>  <span style="padding-top: 2px;"><strong>  Go back to search</strong></span></div>
    <div class="row" style="margin-top: 20px;">
      <div class="col col-lg-4 col-md-6 col-sm-8" style="padding-top: 15px;" *ngFor="let result of searchResults">
        <nz-card [nzActions]="[actionEdit, actionInfo, actionShopping]" [nzHoverable]="true">
          <nz-descriptions nzLayout="horizontal">
            <nz-descriptions-item nzTitle="Name of issuer">{{result.agent.agentName}}</nz-descriptions-item>
          </nz-descriptions>
          <nz-descriptions nzLayout="horizontal">
            <nz-descriptions-item style="margin-left: 20px;" nzTitle="Car details">{{result.car.carBrandName}}&nbsp;{{result.car.carModelName}}, {{result.car.carClassName}}</nz-descriptions-item>
          </nz-descriptions>
          <nz-descriptions nzLayout="horizontal">
            <nz-descriptions-item nzTitle="Location">{{result.agent.locations}}</nz-descriptions-item>
          </nz-descriptions>
          <nz-descriptions nzLayout="horizontal">
            <nz-descriptions-item style="margin-left: 20px;" nzTitle="Date issued">{{result.ad.formattedDate}}</nz-descriptions-item>
          </nz-descriptions>
        </nz-card>
        <ng-template #actionEdit>
          <i nz-icon nz-tooltip nzTooltipTitle="Edit ad" nzType="edit"></i>
        </ng-template>
        <ng-template #actionInfo>
          <i nz-icon nz-tooltip nzTooltipTitle="See informations" (click)="seeInfo(result)" nzType="info-circle" nzTheme="outline"></i>
        </ng-template>
        <ng-template #actionShopping>
          <i nz-icon nz-tooltip nzTooltipTitle="Reserve now" (click)="reserveAdNow(result)" nzType="carry-out" nzTheme="fill"></i>
        </ng-template>
           <!--MODALNI DIJALOG ZA REZERVACIJU OGLASA-->
           <nz-modal [(nzVisible)]="isVisible"  nzTitle="CHOOSE PICK UP ADDRESS" (nzOnCancel)="handleCancel()" (nzOnOk)="handleOk(result)">
            <div>
              <nz-table #nzTable [nzData]="addressList">
                <thead>
                </thead>
                <tbody>
                  <tr *ngFor="let data of nzTable.data" (click)="RowSelected(data)" >
                    <td>{{ data.street + " "+ data.number + ", "+data.city}}</td>
                    <td>
                      <button nz-button nzType="primary">Choose</button>
                    </td>
                  </tr>
                </tbody>
              </nz-table>
             </div>
          </nz-modal> 
         
      </div>
    </div>

  </div>
